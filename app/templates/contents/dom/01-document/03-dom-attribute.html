{% extends 'base.html' %}

{% block title %} JS DOM {% endblock %}

{% block header %} 속성과 프로퍼티 {% endblock %}

{% block content %}
  <pre>&lt;body id="page" DOM에서 body.id = "page"</pre>
  <section>
    <h2>DOM property</h2>
    <pre>document.body.sayTagName = function() {
  alert(this.tagName);
};
document.body.sayTagName(); // BODY (sayTagName의 'this'엔 document.body가 저장됩니다.)</pre>
  <h3>비표준 프로퍼티는 전환되지 않음</h3>
  <h3>비표준 프로퍼티 사용하기(대소문자 구분 없음)</h3>
    <h4>elem.hasAttribute(name)</h4>
    <h4>elem.getAttribute(name)</h4>
    <h4>elem.setAttribute(name, value)</h4>
    <h4>elem.removeAttribute(name)</h4>
  <pre>&lt;div id="elem" about="Element">
  console.log( elem.getAttribute('About') ); // (1) 'Elephant', 속성 읽기
  elem.setAttribute('Test', 123); // (2) 속성 추가하기
  console.log( elem.outerHTML ); // (3) 추가된 속성 확인하기
  for (let attr of elem.attributes) { // (4) 속성 전체 나열하기
    console.log( `${attr.name} = ${attr.value}` );
  }</pre>
<div id="elem" about="Elephant"></div>
  </section>
  <section>
    <h2>DOM 프로퍼티 값의 타입</h2>
    <h3>Attribute는 HTML의 값 자체를 가지고 오나 DOM 프로퍼티는 나름의 타입이 있음</h3>
    <pre>&lt;input id="input" type="checkbox" checked>
  input.getAttribute('checked'); // 빈 문자열
  input.type; // true
  input.getAttribute('style'); // color:red;font-size:120%
  input.style; // [object CSSStyleDeclaration]
  input.style.colro; // red
    </pre>
    <pre>&lt;a id='a' href="#hello">link &lt;a>
  a.getAttribute('href'); // #hello
  a.href; // http://127.0.0.0/page#hello
    </pre>
    <h3>data-*; data-user-data; </h3>
    <h4>사용: elem.dataset.userData; 로 사용 가능</h4>
    <pre>&lt;div data-widget-name="menu">choose the genre&lt;/div>
  let elem = document.querySelector("[data-widget-name]");
  elem.dataset.widgetName;
  elem.getAttribute("data-widget-name") </pre>
  </section>
  <section>
    <h2>Etc...</h2>
    <pre>let links = document.querySelectorAll('a');
  for (let link of links) {
    let href = link.getAttribute('href');
    if (!href) continue; // 속성이 존재하지 않음
    if (!href.includes('://')) continue; // 프로토콜이 존재하지 않음
    if (href.startsWith('http://internal.com')) continue; // 내부 링크
    link.style.color = 'orange';</pre>
    <pre>let selector = 'a[href*="://"]:not([href^="http://internal.com"])';
  let links = document.querySelectorAll(selector);  
  links.forEach(link => link.style.color = 'orange');</pre>
  </section>
{% endblock %}


<script>
console.log( elem.getAttribute('About') ); // (1) 'Elephant', 속성 읽기
elem.setAttribute('Test', 123); // (2) 속성 추가하기
console.log( elem.outerHTML ); // (3) 추가된 속성 확인하기
for (let attr of elem.attributes) { // (4) 속성 전체 나열하기
  console.log( `${attr.name} = ${attr.value}` );
}
</script>